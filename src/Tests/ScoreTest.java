package Tests;

import converter.Score;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import java.nio.file.Files;
import java.nio.file.Path;
import java.util.LinkedHashMap;

import static org.junit.jupiter.api.Assertions.*;

public class ScoreTest {

    Score score;

    @BeforeEach
    void setup() {
        String rootString = "  #1                          #2\n" +
                "  3/4 G       Am7     G/B     4/4 G\n" +
                "E{|---------------------------|-----------------------------------|\n" +
                "B{|---0-------1-------3-------|---12----12--12----12----12--12----|\n" +
                "G{|-------0-------0-------0---|-------0-------0-------0-------0---|\n" +
                "D{|---------------------------|-----------------------------------|\n" +
                "A{|-----------0-------2-------|---10------10------10------10------|\n" +
                "E{|---3-----------------------|-----------------------------------|\n" +
                "      +   .   +   .   +   .       +   .   +   .   +   .   +   .\n" +
                "\n" +
                "\n" +
                "  3/4 G       Am7     G/B     4/4 G\n" +
                "E||---------------------------|-----------------------------------|\n" +
                "B||---0-------1-------3-------|---12----12--12----12----12--12----|\n" +
                "G||.------0-------0-------0---|-------0-------0-------0-------0---|\n" +
                "D||.--------------------------|-----------------------------------|\n" +
                "A||-----------0-------2-------|---10------10------10------10------|\n" +
                "E||---3-----------------------|-----------------------------------|\n" +
                "      +   .   +   .   +   .       +   .   +   .   +   .   +   .\n" +
                "   1. Blackbird singing in the dead of night\n" +
                "   2. Blackbird singing in the dead of night\n" +
                "\n" +
                "\n" +
                "  #5\n" +
                "      C       A7/C#   D       B7/D#       Em              Cm/Eb\n" +
                "E |-----------3---------------5-------|-----------------------------------|\n" +
                "B |---5--(5)----------7--(7)----------|---8-----8---8-----8-----8---8-----|\n" +
                "G |-------0-------0-------0-------0---|-------0-------0-------0-------0---|\n" +
                "D |-----------------------------------|-----------------------------------|\n" +
                "A |---3-------4-------5-------6-------|---7-------7-------6-------6-------|\n" +
                "E |-----------------------------------|-----------------------------------|\n" +
                "      +   .   +   .   +   .   +   .       +   .   +   .   +   .   +   .\n" +
                "      Take these broken wings and learn to fly\n" +
                "      Take these sunken eyes and learn to see  (notes in () not played 2nd verse)\n" +
                "\n" +
                "\n" +
                "  #7\n" +
                "  3/2 D       A7/C#   C                Cm\n" +
                "E |-----------3----------------------------------------|\n" +
                "B |---7---------------5-----5---5------4-----4---4-----|\n" +
                "G |-------0-------0-------0-------0--------0-------0---|\n" +
                "D |----------------------------------------------------|\n" +
                "A |---5-------4-------3-------3--------3-------3-------|\n" +
                "E |----------------------------------------------------|\n" +
                "      +       .       +       .        +       .\n" +
                "      All     your    life\n" +
                "      All     your    life\n" +
                "\n" +
                "\n" +
                "  #8\n" +
                "      G/B             A7               C/D\n" +
                "E |----------------------------------------------------|\n" +
                "B |---3-----3---3-----2-----2---2------1-----1---1-----|\n" +
                "G |-------0-------0-------0-------0--------0-------0---|\n" +
                "D |------------------------------------0-------0-------|\n" +
                "A |---2-------2-------0-------0------------------------|\n" +
                "E |----------------------------------------------------|\n" +
                "      +       .       +       .        +       .\n" +
                "     You were only  waiting  for this  moment  to a-\n" +
                "     You were only  waiting  for this  moment  to be\n" +
                "\n" +
                "   -----------------------------------------------------------------------...\n" +
                "  |  1.\n" +
                "  #9hi\n" +
                "  4/4 G               C       G           A7              C/D\n" +
                "E |-----------------------------------|-----------------------------------|\n" +
                "B |---0-----0---0-----5-------3-------|---2-----2---2-----1-----1---1-----|\n" +
                "G |-------0-------0-------0-------0---|-------0-------0-------0-------0---|\n" +
                "D |-----------------------------------|-------------------0-------0-------|\n" +
                "A |-------------------3-------2-------|---0-------0-----------------------|\n" +
                "E |---3-------3-----------------------|-----------------------------------|\n" +
                "      +   .   +   .   +   .   +   .       +   .   +   .   +   .   +   .\n" +
                "      rise.\n" +
                "\n" +
                "  ... -----------------  -------------------\n" +
                "                       ||  2.               |\n" +
                "  #11                  ||                   |\n" +
                "  2/2 G\n" +
                "E |--------------------||-------------------|\n" +
                "B |---0-----0---0------||---0-----0---0-----|\n" +
                "G |-------0-------0---.||-------0-------0---|\n" +
                "D |-------------------.||-------------------|\n" +
                "A |--------------------||-------------------|\n" +
                "E |---3-------3--------||---3-------3-------|\n" +
                "      +   .   +   .         +   .   +   .\n" +
                "                             free.\n" +
                "\n" +
                "  #13\n" +
                "  4/4 F       Em      Dm      C           Bb              C\n" +
                "E |-----------------------------------|-------------------0-----0---0-----|\n" +
                "B |---10------8-------6-------5-------|---3-----3---3---------------------|\n" +
                "G |-------0-------0-------0-------0---|-------0-------0-------0-------0---|\n" +
                "D |-----------------------------------|-----------------------------------|\n" +
                "A |---8-------7-------5-------3-------|---1-------1-------3-------3-------|\n" +
                "E |-----------------------------------|-----------------------------------|\n" +
                "      +   .   +   .   +   .   +   .       +   .   +   .   +   .   +   .\n" +
                "      Black     -     bird,              fly,\n" +
                "\n" +
                "\n" +
                "  #15\n" +
                "  4/4 F       Em      Dm      C           Bb              A7\n" +
                "E |-----------------------------------|-----------------------------------|\n" +
                "B |---10------8-------6-------5-------|---3-----3---3-----2-----2---2-----|\n" +
                "G |-------0-------0-------0-------0---|-------0-------0-------0-------0---|\n" +
                "D |-----------------------------------|-----------------------------------|\n" +
                "A |---8-------7-------5-------3-------|---1-------1-------0-------0-------|\n" +
                "E |-----------------------------------|-----------------------------------|\n" +
                "      +   .   +   .   +   .   +   .       +   .   +   .   +   .   +   .\n" +
                "      Black     -     bird,              fly,                    into the\n" +
                "\n" +
                "  #17\n" +
                "  2/4 C/D\n" +
                "E |----------------------|\n" +
                "B |---1-----1---1----1---|\n" +
                "G |-------0-------0------|\n" +
                "D |---0-------0----------|\n" +
                "A |----------------------|\n" +
                "E |----------------------|\n" +
                "      +   .   +   .\n" +
                "      light of a dark blackc\n" +
                "\n" +
                "\n" +
                "  #18\n" +
                "  3/4 G       Am7     G       4/4 G\n" +
                "E |---------------------------|-----------------------------------|\n" +
                "B |---0-------1-------3-------|---12----12--12----12--12--12------|\n" +
                "G |-------0-------0-------0---|-------0-------0-------0-----------|\n" +
                "D |---------------------------|-----------------------------------|\n" +
                "A |-----------0-------2-------|---10------10------10------10------|\n" +
                "E |---3-----------------------|-----------------------------------|\n" +
                "      +   .   +   .   +   .       +   .   +   .   +   .   +   .\n" +
                "      night.\n" +
                "\n" +
                "\n" +
                "  #20\n" +
                "      C       A7/C#   D7      B7/D#       Em        *     Cm/Eb\n" +
                "E |-----------3---------------5-------|-----------------------------------|\n" +
                "B |---5---5-----------7---7-----------|---8-----8-----8---8-----8---8-----|*note small\n" +
                "G |-------0-------0-------0-------0---|-------0-----0---------0-------0---| change in\n" +
                "D |-----------------------------------|-----------------------------------| picking pattern\n" +
                "A |---3-------4-------5-------6-------|---7-------7-------6-------6-------| here\n" +
                "E |-----------------------------------|-----------------------------------|\n" +
                "      +   .   +   .   +   .   +   .       +   .   +   .   +   .   +   .\n" +
                "\n" +
                "[ Tab from: https://www.guitartabs.cc/tabs/b/beatles/blackbird_tab_ver_12.html ]\n" +
                "  #22\n" +
                "  3/2 D       A7/C#   C                Cm\n" +
                "E |-----------3----------------------------------------|\n" +
                "B |---7---------------5-----5---5------4-----4---4-----|\n" +
                "G |-------0-------0-------0-------0--------0-------0---|\n" +
                "D |----------------------------------------------------|\n" +
                "A |---5-------4-------3-------3--------3-------3-------|\n" +
                "E |----------------------------------------------------|\n" +
                "      +       .       +       .        +       .\n" +
                "\n" +
                "\n" +
                "  #23                                                  #24\n" +
                "      G               A7               C/D             2/4 G\n" +
                "E |----------------------------------------------------|---------------|\n" +
                "B |---3-----3---3-----2-----2---2------1-----1---1-----|---0-----------|\n" +
                "G |-------0-------0-------0-------0--------0-------0---|---0-----------|\n" +
                "D |------------------------------------0-------0-------|---------------|\n" +
                "A |---2-------2-------0-------0------------------------|---------------|\n" +
                "E |----------------------------------------------------|---3-----------|\n" +
                "      +       .       +       .        +       .           +       .\n" +
                "\n" +
                "\n" +
                "  #25\n" +
                "  4/4 F       Em      Dm      C           Bb              C\n" +
                "E |-----------------------------------|-------------------0-----0---0-----|\n" +
                "B |---10------8-------6-------5-------|---3-----3---3---------------------|\n" +
                "G |-------0-------0-------0-------0---|-------0-------0-------0-------0---|\n" +
                "D |-----------------------------------|-----------------------------------|\n" +
                "A |---8-------7-------5-------3-------|---1-------1-------3-------3-------|\n" +
                "E |-----------------------------------|-----------------------------------|\n" +
                "      +   .   +   .   +   .   +   .       +   .   +   .   +   .   +   .\n" +
                "      Black     -     bird,               fly,\n" +
                "\n" +
                "\n" +
                "  #27\n" +
                "  4/4 F       Em      Dm      C           Bb              A7\n" +
                "E |-----------------------------------|-----------------------------------|\n" +
                "B |---10------8-------6-------5-------|---3---3-------3---2-----2---2-----|\n" +
                "G |-------0-------0-------0-------0---|-------------0---------0-------0---|\n" +
                "D |-----------------------------------|-----------------------------------|\n" +
                "A |---8-------7-------5-------3-------|---1-------1-------0-------0-------|\n" +
                "E |-----------------------------------|-----------------------------------|\n" +
                "      +   .   +   .   +   .   +   .       +   .   +   .   +   .   +   .\n" +
                "      Black     -     bird,               fly,                    into the\n" +
                "\n" +
                "  #29\n" +
                "  2/4 C/D\n" +
                "E |----------------------|\n" +
                "B |---1-----1---1----1---|\n" +
                "G |-------0-------0------|\n" +
                "D |---0-------0----------|\n" +
                "A |----------------------|\n" +
                "E |----------------------|\n" +
                "      +   .   +   .\n" +
                "    light of a dark, black\n" +
                "\n" +
                "\n" +
                "  #30\n" +
                "  3/4 G       Am7     G/B     4/4 G\n" +
                "E |---------------------------|-----------------------------------|\n" +
                "B |---0-------1-------3-------|---12----12--12----12----12--12----|\n" +
                "G |---------------------------|-------0-------0-------0-------0---|\n" +
                "D |---------------------------|-----------------------------------|\n" +
                "A |-----------0-------2-------|-----------------------------------|\n" +
                "E |---3-----------------------|---10------10------10------10------|\n" +
                "      +   .   +   .   +   .       +   .   +   .   +   .   +   .\n" +
                "      night.\n" +
                "\n" +
                "\n" +
                " #31\n" +
                "      G\n" +
                "E |-----------------------------------|-----------------------------------|\n" +
                "B |---12----12--12----12----12--12----|---12----12--12----12---------12/--|\n" +
                "G |-------0-------0-------0-------0---|-------0-------0---0---------------|\n" +
                "D |-----------------------------------|-----------------------------------|\n" +
                "A |---10------10------10------10------|---10------10------10---------10/--|\n" +
                "E |-----------------------------------|-----------------------------------|\n" +
                "      +   .   +   .   +   .       +   .   +   .   +   .   +   .   +   .\n" +
                "                                molto rit.\n" +
                "\n" +
                "\n" +
                "  #34\n" +
                "  3/4    G       Am7     G/B     3/4 C       G/B     A7\n" +
                "E||------------------------------|---0-----------------------|\n" +
                "B||------0-------1-------3-------|-----------3-------2-------|\n" +
                "G||----------0-------0-------0---|-------0-------0-------0---|\n" +
                "D||------------------------------|---------------------------|\n" +
                "A||--------------0-------2-------|---3-------2-------0-------|\n" +
                "E||---10\\3-----------------------|---------------------------|\n" +
                "          +   .   +   .   +   .      +   .   +   .   +   .\n" +
                " slide down\n" +
                "        a tempo\n" +
                "\n" +
                "\n" +
                "  #36\n" +
                "  2/4 C/D\n" +
                "E |------------------|\n" +
                "B |--1-----1---1-----|\n" +
                "G |------0-------0---|\n" +
                "D |--0-------0-------|\n" +
                "A |------------------|\n" +
                "E |------------------|\n" +
                "     +   .   +   .\n" +
                "\n" +
                "  #37\n" +
                "  3/4 G       Am7     G/B     4/4 G\n" +
                "E||---------------------------|-----------------------------------|\n" +
                "B||---0-------1-------3-------|---12----12--12----12----12--12----|\n" +
                "G||.------0-------0-------0---|-------0-------0-------0-------0---|\n" +
                "D||.--------------------------|-----------------------------------|\n" +
                "A||-----------0-------2-------|---10------10------10------10------|\n" +
                "E||---3-----------------------|-----------------------------------|\n" +
                "      +   .   +   .   +   .       +   .   +   .   +   .   +   .\n" +
                "    Blackbird singing in the dead of night\n" +
                "\n" +
                "\n" +
                "  #39\n" +
                "      C       A7/C#   D       B7/D#       Em              Cm/Eb\n" +
                "E |-----------3---------------5-------|-----------------------------------|\n" +
                "B |---5---------------7---7-----------|---8-----8---8-----8-----8---8-----|\n" +
                "G |-------0-------0-------0-------0---|-------0-------0-------0-------0---|\n" +
                "D |-----------------------------------|-----------------------------------|\n" +
                "A |---3-------4-------5-------6-------|---7-------7-------6-------6-------|\n" +
                "E |-----------------------------------|-----------------------------------|\n" +
                "      +   .   +   .   +   .   +   .       +   .   +   .   +   .   +   .\n" +
                "      Take these broken wings and learn to fly;\n" +
                "\n" +
                "\n" +
                "  #41\n" +
                "  3/2 D       A7/C#   C   *            Cm  *\n" +
                "E |-----------3----------------------------------------|\n" +
                "B |---7---------------5---5-------5----4---4-------4---| * note change in\n" +
                "G |-------0-------0---------0---0------------0---0-----|   picking pattern here\n" +
                "D |----------------------------------------------------|\n" +
                "A |---5-------4-------3-------3--------3-------3-------|\n" +
                "E |----------------------------------------------------|\n" +
                "      +       .       +       .        +       .\n" +
                "      All     your    life\n" +
                "\n" +
                "\n" +
                "  #42\n" +
                "  4/4 G/B             A7                  C/D             G\n" +
                "E||-----------------------------------|-----------------------------------||\n" +
                "B||---3-----3---3-----2-----2---2-----|---1-----1---1-----0---------------||\n" +
                "G||.------0-------0-------0-------0---|-------0-------0---0--------------.||\n" +
                "D||.----------------------------------|---0-------0----------------------.||\n" +
                "A||---2-------2-------0-------0-------|-----------------------------------||\n" +
                "E||-----------------------------------|-------------------3---------------||\n" +
                "      +   .   +   .   +   .   +   .       +   .   +   .   +   .   +   .\n" +
                "     You were only   waiting  for this    moment  to    a-rise.\n" +
                "\n" +
                "\n" +
                "  #44\n" +
                "      C       G/B     A7                  C/D             G\n" +
                "E |-----------------------------------|-----------------------------------||}\n" +
                "B |---5-------3-------2-----2---2-----|---1-----1---1-----3---------------||}\n" +
                "G |-------0-------0-------0-------0---|-------0-------0---0---------------||}\n" +
                "D |-----------------------------------|---0-------0-------0---------------||}\n" +
                "A |---3-------2-------0-------0-------|-----------------------------------||}\n" +
                "E |-----------------------------------|-------------------3---------------||}\n" +
                "      +   .   +   .   +   .   +   .       +   .   +   .   +   .   +   .\n" +
                "     You were only   waiting  for this    moment  to    a-rise.";
        this.score = new Score(rootString);
    }

    @Test
    void getStringFragmentsTest() {
        int expectedSize = 26;
        assertEquals(expectedSize, this.score.rootStringFragments.size());
    }

    void createMeasureCollectionListTest() {
        assertEquals(this.score.rootStringFragments.size(),this.score.measureCollectionList.size());
    }
}
